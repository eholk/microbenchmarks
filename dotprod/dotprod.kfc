;; This is known to work with Harlan version
;; 083c14cbb96203d5608860192bd45009d4dc43a8

(module
  (import ffi)

  (extern time-s () -> float)
  
  (define (harlan_dot N pa pb)
    (let* ((a (import-float-vec pa N))
           (b (import-float-vec pb N))
           (dot
            (reduce + (kernel ((a a) (b b)) (* a b)))))
      dot)))
